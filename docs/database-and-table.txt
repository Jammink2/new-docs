# Database and Table Management

Treasure Data Cloud uses the same convention as Relational Database Management Systems (RDBMSs) for managing data sets: *Databases* and *Tables*. Each database can contain several tables. However, each table can only belong to one database.

## Prerequisites

  * Basic knowledge of Treasure Data, including [the toolbelt](http://toolbelt.treasure-data.com).

## Database Management

A *Database* is a collection of tables.

### Creating a Database

The 'db:create' sub-command creates a database. For example, the following command will create a table named 'test_db' on the cloud. 

    :::term
    $ td db:create test_db

Your local environment remains unchanged; the database resides solely on the cloud.

### A List of Your Databases

The 'dbs' sub-command lists all the databases in your account.

    :::term
    $ td dbs
    +---------------+
    | Name          |
    +---------------+
    | twitter       |
    | follow_events |
    | test_db       |
    +---------------+
    3 rows in set

### Removing a Database

The 'db:delete' sub-command removes a database. This will remove all tables and all data stored within the database as well. 

    :::term
    $ td db:delete test_db
    Database 'test_db' is deleted.

NOTE: This operation cannot be rolled back. The data will be unrecoverable.

## Table Management

*Tables* contain your actual data. A given table can only belong to a single database.

### Creating a Table

The 'table:create' sub-command creates a table. For example, the following command will create a table named 'test_table' within the database 'test_db'.

    :::term
    $ td table:create test_db test_table
    Table 'test_db.test_table' is created.

Much like your database, this table only exists on the cloud. Your local environment remains unchanged. 

### A List of Your Tables

The 'tables' sub-command lists all the tables within the specified database. The number of records in each table will be shown as well (currently zero).

    :::term
    $ td tables test_db
    +----------+------------+------+-------+
    | Database | Table      | Type | Count |
    +----------+------------+------+-------+
    | test_db  | test_table | log  | 0     |
    +----------+------------+------+-------+
    1 row in set

Issuing the 'tables' command without an argument will list all the databases and tables that you have created.

    :::term
    $ td tables        
    +----------+-------------+------+-------------+
    | Database | Table       | Type | Count       |
    +----------+-------------+------+-------------+
    | kzk      | www_access  | log  | 14          |
    | sf       | ab          | log  | 212900645   |
    | sf       | msgpack_www | log  | 390734      |
    | sf       | wikistats3  | log  | 12745020396 |
    | sf       | x           | log  | 3           |
    | test_db  | test_table  | log  | 0           |
    +----------+-------------+------+-------------+
    8 rows in set

### Drop Table

The 'table:delete' sub-command removes a table from a database. This will remove all data stored within the table as well. 

    :::term
    $ td table:delete test_db test_table
    Table 'test_db.test_table' is deleted.

NOTE: This operation cannot be rolled back. The data will be unrecoverable.
