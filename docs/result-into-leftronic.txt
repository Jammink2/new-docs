# Sending Query Results to Leftronic.

[Leftronic](https://www.leftronic.com) is an online dashboard service. This article explains how to output query result as data points for dashboard graphs.

## Prerequisites

  * Basic knowledge of Treasure Data, including [the toolbelt](http://toolbelt.treasure-data.com).
  * An account with [Leftronic](https://www.leftronic.com).

## Scheduled Queries

A typical use case is to setup a scheduled query and output the results to a line graph in Leftronic. The resuling time series is provides a great at-a-glance performance metric. This can be done in a few simple steps:

Step 1: In the Leftronic dashboard, create a new line graph. Click on the properties for this graph and note down its `streamName`. This is a reference name to the graph which we'll use in the next steps. Also find out your `accessKey`, which can be found in their [documentation](https://www.leftronic.com/api/).

Step 2: On the command line, create a named result endpoint.

    :::term
    $ td result:create mymetric "leftronic://accessKey/streamName"

`accessKey` and `streamName` are the parameters mentioned in the previous step.

Step 3: Setup a scheduled query, which will periodically execute and send the query result to your Leftronic graph as a point.  

    :::term
    $ td sched:create mymetric_hourly "0 * * * *" \
      -d testdb \
      --result mymetric:path \
      "SELECT TD_SCHEDULED_TIME(), COUNT(1) FROM www_access TD_TIME_RANGE(time,TD_TIME_ADD(TD_SCHEDULED_TIME(),'-1h'), TD_SCHEDULED_TIME())"

The result of your query should contain only one row with two columns. The first column should be a timestamp value in [unix epoch format](http://en.wikipedia.org/wiki/Unix_time). The second column should be the value of associated with the time. In this example, we are counting the number of entries from the `www_access` table that occured within the past hour.

